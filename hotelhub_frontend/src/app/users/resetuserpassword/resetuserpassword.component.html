<main>
    <div class="container">
        <section class="section register min-vh-100 d-flex flex-column align-items-center justify-content-center py-2">
            <div class="col-xl-8">
                <div class="d-flex justify-content-center py-4">
                    <a [routerLink]="['/userhome']" class="logo d-flex align-items-center w-auto">
                        <img src="assets/img/logo.png" alt="">
                        <span class="d-none d-lg-block">Hotel Hub</span>
                    </a>
                </div>
                <div class="card">
                    <div class="card-body pt-3">
                        <!-- Bordered Tabs -->
                        <ul class="nav nav-tabs nav-tabs-bordered">
                            <li class="nav-item">
                                <button class="nav-link active" data-bs-toggle="tab"
                                    data-bs-target="#profile-change-password">Reset Password</button>
                            </li>
                        </ul>
            
                        <div *ngIf="successmsg" class="alert alert-success alert-dismissible fade show">
                            {{ successmsg }}
                            <button type="button" class="btn-close" (click)="closeSuccessMessage()"></button>
                        </div>
            
                        <div class="tab-content pt-2">
                            <div *ngIf="errorMessage" class="alert alert-danger">
                                {{ errorMessage }}
                            </div>
                            <div class="tab-pane fade show active pt-3" id="profile-change-password">
                                <form (ngSubmit)="onSubmit()" #passwordForm="ngForm">
                                    <div class="row mb-3">
                                        <label for="email" class="col-md-4 col-lg-3 col-form-label">Email</label>
                                        <div class="col-md-8 col-lg-9">
                                            <input name="email" type="email" class="form-control" id="email" [(ngModel)]="email"
                                                readonly>
                                        </div>
                                    </div>
            
                                    <div class="row mb-3">
                                        <label for="newPassword" class="col-md-4 col-lg-3 col-form-label">New Password</label>
                                        <div class="col-md-8 col-lg-9">
                                            <input 
                                                name="newpassword" 
                                                type="password" 
                                                class="form-control" 
                                                id="newPassword" 
                                                [(ngModel)]="resetpassword.newpass" 
                                                #newPassword="ngModel" 
                                                required 
                                                minlength="6">
                                            <div *ngIf="newPassword.invalid && newPassword.touched" class="text-danger">
                                                New password must be at least 6 characters long.
                                            </div>
                                        </div>
                                    </div>
                                
                                    <div class="row mb-3">
                                        <label for="renewPassword" class="col-md-4 col-lg-3 col-form-label">Re-enter New Password</label>
                                        <div class="col-md-8 col-lg-9">
                                            <input 
                                                name="renewpassword" 
                                                type="password" 
                                                class="form-control" 
                                                id="renewPassword" 
                                                [(ngModel)]="resetpassword.newpasscheck" 
                                                #renewPassword="ngModel" 
                                                required>
                                            <div *ngIf="renewPassword.invalid && renewPassword.touched" class="text-danger">
                                                Please confirm the new password.
                                            </div>
                                            <div *ngIf="resetpassword.newpass !== resetpassword.newpasscheck && renewPassword.touched" class="text-danger">
                                                Passwords do not match.
                                            </div>
                                        </div>
                                    </div>
                                
                                    <div class="text-center">
                                        <button type="submit" class="btn btn-primary" [disabled]="passwordForm.invalid">Change Password</button>
                                    </div>
                                </form>
                                <!-- End Change Password Form -->
                            </div>
                        </div><!-- End Bordered Tabs -->
                    </div>
                </div>
            </div>
        </section>
    </div>
</main>
